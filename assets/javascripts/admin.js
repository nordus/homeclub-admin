// Generated by CoffeeScript 1.7.1
(function() {
  require(['admin-requirejs-config'], function() {
    return require(['ng', 'admin-app', 'admin-templates', 'c/carrieradmins', 'c/carrieradminshow', 'c/carriercreate', 'c/carriers', 'c/carriershow', 'c/customeraccounts', 'c/customeraccountshow', 'c/dashboard', 'c/gatewaycreate', 'c/gatewayshow', 'c/homeclubadmins', 'c/homeclubadminshow', 'c/nav', 'c/import', 'c/sensorhubcreate', 'c/users', 'c/usershow', 'filters', 'bootstrap'], function(angular, app, templates) {
      var rp;
      rp = function($routeProvider) {
        var auth;
        auth = {
          isLoggedIn: [
            '$http', '$q', '$rootScope', function($http, $q, $rootScope) {
              var dfd;
              if ($rootScope.currentUser) {
                return true;
              }
              dfd = $q.defer();
              $http.get('/api/me/home-club-admin').success(function(data) {
                $rootScope.currentUser = data;
                return dfd.resolve(true);
              }).error(function() {
                return location.href = '/login';
              });
              return dfd.promise;
            }
          ]
        };
        return $routeProvider.when('/dashboard', {
          controller: 'dashboard',
          template: templates.dashboard,
          resolve: auth
        }).when('/carrier-admins/:id', {
          controller: 'carrieradminshow',
          template: templates.carrieradminshow,
          resolve: auth
        }).when('/carrier-admins', {
          controller: 'carrieradmins',
          template: templates.carrieradmins,
          resolve: auth
        }).when('/carriers/create', {
          controller: 'carriercreate',
          template: templates.carriercreate,
          resolve: auth
        }).when('/carriers/:id', {
          controller: 'carriershow',
          template: templates.carriershow,
          resolve: auth
        }).when('/carriers', {
          controller: 'carriers',
          template: templates.carriers,
          resolve: auth
        }).when('/customer-accounts/:accountId/gateways/create', {
          template: templates.gatewaycreate,
          controller: 'gatewaycreate',
          resolve: auth
        }).when('/customer-accounts/:accountId/gateways/:id', {
          template: templates.gatewayshow,
          controller: 'gatewayshow',
          resolve: auth
        }).when('/customer-accounts/:accountId/gateways/:gatewayId/sensor-hubs/create', {
          template: templates.sensorhubcreate,
          controller: 'sensorhubcreate',
          resolve: auth
        }).when('/customer-accounts/:id', {
          controller: 'customeraccountshow',
          template: templates.customeraccountshow,
          resolve: auth
        }).when('/customer-accounts', {
          controller: 'customeraccounts',
          template: templates.customeraccounts,
          resolve: auth
        }).when('/home-club-admins/:id', {
          controller: 'homeclubadminshow',
          template: templates.homeclubadminshow,
          resolve: auth
        }).when('/home-club-admins', {
          controller: 'homeclubadmins',
          template: templates.homeclubadmins,
          resolve: auth
        }).when('/import', {
          controller: 'import',
          template: templates["import"],
          resolve: auth
        }).when('/users/:id', {
          controller: 'usershow',
          template: templates.usershow,
          resolve: auth
        }).when('/users', {
          controller: 'users',
          template: templates.users,
          resolve: auth
        }).otherwise({
          redirectTo: '/dashboard'
        });
      };
      app.config(['$routeProvider', '$httpProvider', rp]);
      return angular.bootstrap(document, ['app']);
    });
  });

}).call(this);
